<script src="/SiteAssets/absence/moment.min.js"></script>
<script src="/SiteAssets/absence/semantic.js" type="text/javascript"></script>
<script src="/SiteAssets/absence/knockout-3.4.0.js"></script>
<script src="/SiteAssets/absence/underscore-min.js"></script>
<script src="/SiteAssets/absence/fullcalendar.min.js"></script>
<script src="/SiteAssets/absence/gcal.min.js"></script>
<script src="/SiteAssets/absence/ru.js"></script>
<script src="/SiteAssets/absence/absence.js?rev=3"></script>
<link rel="stylesheet" type="text/css" href="/SiteAssets/absence/fullcalendar.min.css">
<link rel="stylesheet" type="text/css" href="/SiteAssets/absence/customcalendar.css">
<link rel="stylesheet" type="text/css" href="/SiteAssets/absence/semantic.css">

<script>
    $(function () {
        $.model = new Portal.Services.Absence();
        ko.applyBindings($.model);
        $.model.initUI();
    });
</script>

<div id="loader" class="ui inverted dimmer">
    <div class="ui text loader">Загрузка</div>
</div>

<div class="kor-semantic" style="display: none;">
    <h3 class="ui headTitle">Календарь руководителей:</h3>
    <div class="ui seven doubling cards outterNewCard" style="width: 1000px !important">
        <!-- ko foreach: $.model.managment -->
        <div class="newCard" data-bind="attr : {id: 'newCard_' + $data.userId}">
            <div class="image ui middle aligned customAvatar"
                data-bind="style: { background: 'url(\'' + $data.imageUrl + '\')', backgroundSize: 'cover'}, click: $data.filter">
            </div>
            <div class="content">
                <div class="header"><span
                        data-bind="text: $data.name, click: $data.filter"></span></div>
            </div>
        </div>
        <!-- /ko -->
    </div>
    <br />
    <div class="statusIcons">
        <a id="notAvailable" class="ui empty circular label"></a>&nbsp;<span>Не доступен</span>
        <a id="availableSpb" class="ui empty circular label"></a>&nbsp;<span>Доступен Спб</span>
        <a id="availableMsk" class="ui empty circular label"></a>&nbsp;<span>Доступен Мск</span>
    </div>

    <!-- </div> -->
    <br />
</div>
<div class="outterCalendar" data-bind="attr: {class: $.model.showNone}" >
    <div class="selectedManagerText">
            <div>
                    <h4 data-bind="text:'Расписание: ' + $.model.selectedName()"></h4>
            </div>
            <div>
                    <h4 data-bind="text:'Просмотреть график всех руководителей:'"></h4>
            </div>
        </div>
        <div class="selectedManagerButtons">
            <div>
                    <span data-bind="visible: $.model.isAdmin"><button type="button" data-bind="click: $.model.openNewFormDialog"
                        class="fc-button fc-state-default fc-state-hover fc-button-group fc-corner-left fc-corner-right">Создать</button></span>
            </div>
            <div>
                    <span><button type="button" data-bind="click: $.model.showAll"
                        class="fc-button fc-state-default fc-state-hover fc-button-group fc-corner-left fc-corner-right">
                            Просмотр </button></span>
            </div>
        </div>

    
<div id='calendar' ></div>
</div>


